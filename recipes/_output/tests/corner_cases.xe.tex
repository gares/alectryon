\documentclass[a4paper]{article}
% generated by Docutils <http://docutils.sourceforge.net/>
% rubber: set program xelatex
\usepackage{fontspec}
% \defaultfontfeatures{Scale=MatchLowercase}
% straight double quotes (defined T1 but missing in TU):
\ifdefined \UnicodeEncodingName
  \DeclareTextCommand{\textquotedbl}{\UnicodeEncodingName}{%
    {\addfontfeatures{RawFeature=-tlig,Mapping=}\char34}}%
\fi
\usepackage{ifthen}
\usepackage{alltt}
\setcounter{secnumdepth}{0}

%%% Custom LaTeX preamble

\setmainfont{Linux Libertine O}
\setsansfont{Linux Biolinum O}
\setmonofont[Scale=MatchLowercase]{Fira Code}

%%% User specified packages and stylesheets
\usepackage{alectryon}
\usepackage{pygments}

%%% Fallback definitions for Docutils-specific commands
% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
  \usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
  \usepackage{bookmark}
  \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
}{}
\hypersetup{
  pdftitle={Corner cases},
}

\title{Corner cases%
  \label{corner-cases}}
\author{}
\date{}

%%% Body
\begin{document}
\maketitle

To compile:

\begin{quote}
\begin{alltt}
alectryon --stdin-filename corner_cases.rst --frontend rst -o corner_cases.html - < corner_cases.rst
  # Coq → HTML; produces ‘corner_cases.html’
alectryon corner_cases.rst -o corner_cases.xe.tex --latex-dialect xelatex
  # Coq → LaTeX; produces ‘corner_cases.xe.tex’
\end{alltt}
\end{quote}


\section{Goal names%
  \label{goal-names}%
}

\begin{alectryon}
  % Generator: Alectryon
  \sep
  \begin{sentence}
    \begin{input}
      \PY{k+kn}{Goal}~\PY{k+kt}{True}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}\PY{o}{.}
    \end{input}
    \sep
    \begin{output}
      \begin{goals}
        \begin{goal}
          \begin{hyps}\end{hyps}
          \sep
          \infrule{}
          \sep
          \begin{conclusion}
            \PY{k+kt}{True}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{conclusion}
        \end{goal}
      \end{goals}
    \end{output}
  \end{sentence}
  \sep
  \begin{sentence}
    \begin{input}
      ~~\PY{n+nb}{intros}\PY{o}{;}~\PY{n+nb}{refine}~\PY{o}{(}\PY{n}{conj}~\PY{o}{?[}\PY{n}{G1}\PY{o}{]}~\PY{o}{?[}\PY{n}{G2}\PY{o}{]).}
    \end{input}
    \sep
    \begin{output}
      \begin{goals}
        \begin{goal}
          \begin{hyps}
            \hyp{H}{\PY{k+kt}{True}}
          \end{hyps}
          \sep
          \infrule{\gid{G1}}
          \sep
          \begin{conclusion}
            \PY{k+kt}{True}
          \end{conclusion}
        \end{goal}
        \sep
        \begin{extragoals}
          \begin{goal}
            \begin{hyps}
              \hyp{H}{\PY{k+kt}{True}}
            \end{hyps}
            \sep
            \infrule{\gid{G2}}
            \sep
            \begin{conclusion}
              \PY{k+kt}{True}
            \end{conclusion}
          \end{goal}
        \end{extragoals}
      \end{goals}
    \end{output}
  \end{sentence}
  \sep
  \begin{sentence}
    \begin{input}
      ~~\PY{o}{[}\PY{n}{G1}\PY{o}{]:}~\PY{n+nb+bp}{exact}~\PY{n}{I}\PY{o}{.}
    \end{input}
    \sep
    \begin{output}
      \begin{goals}
        \begin{goal}
          \begin{hyps}
            \hyp{H}{\PY{k+kt}{True}}
          \end{hyps}
          \sep
          \infrule{\gid{G2}}
          \sep
          \begin{conclusion}
            \PY{k+kt}{True}
          \end{conclusion}
        \end{goal}
      \end{goals}
    \end{output}
  \end{sentence}
  \sep
  \begin{sentence}
    \begin{input}
      ~~\PY{o}{[}\PY{n}{G2}\PY{o}{]:}~\PY{n+nb+bp}{exact}~\PY{n}{I}\PY{o}{.}\nl
    \end{input}
  \end{sentence}
  \sep
  \begin{sentence}
    \begin{input}
      \PY{k+kn}{Qed}\PY{o}{.}
    \end{input}
  \end{sentence}
\end{alectryon}


\section{Self-reference%
  \label{self-reference}%
}

\begin{alectryon}
  % Generator: Alectryon
  \sep
  \begin{sentence}
    \begin{input}
      \PY{k+kn}{Definition}~\PY{n+nf}{a}~\PY{o}{:=}~\PY{l+m+mi}{1}\PY{o}{.}\nl
    \end{input}
  \end{sentence}
  \sep
  \begin{sentence}
    \begin{input}
      \PY{k+kn}{Check}~\PY{n}{corner\PYZus{}cases}\PY{o}{.}\PY{n}{a}\PY{o}{.}
    \end{input}
    \sep
    \begin{output}
      \begin{messages}
        \begin{message}
          \PY{n}{a}\nl
          ~~~~~\PY{o}{:}~\PY{n}{nat}
        \end{message}
      \end{messages}
    \end{output}
  \end{sentence}
\end{alectryon}

\end{document}
